
### 🗂【構造化ドキュメント】React開発における紙ベース設計の基本フロー

---

#### ① データ・API設計（バックエンド主導）

* Supabase or PostgreSQLにおける**テーブル設計**を起点に開始
* Django側で**対応するモデル・シリアライザー・APIエンドポイントを定義**
* **使用予定のAPI一覧を明記**（GET, POST, PATCH など、エンドポイント・パラメータ構造も設計）

---

#### ② ユーザー行動のシミュレーション（時系列ベース）

* ページごとの「**想定されるユーザーの動作フロー**」を洗い出し（例：ページ表示→解答→送信→結果表示）
* 各動作が発火する**イベント単位（click, change, mount etc.）を明示**
* `useEffect` のタイミング／依存配列の意味づけもここで定義

---

#### ③ 処理の定義（関数・非同期処理など）

* 上記イベントに対応する**関数の処理内容をステップで紙に書く**
* fetch/postなどの非同期処理が必要か、バリデーションや条件分岐はあるかを考慮
* **イベントと処理が1:1対応しているかを検証**

---

#### ④ 状態（useState）の設計

* 必要な状態を**列挙**
* それぞれが**UIに影響するか否かを分類**
* 初期値／更新関数／依存関係を含めて定義
* 状態が変化するトリガー（イベント）との関連性も記述

---

#### ⑤ UI構造の設計（コンポーネントの分割含む）

* 設計済みの状態を元に、**表示の構成要素を分解**
* 状態に応じて動的に変わる箇所、staticな表示を切り分け
* コンポーネントの**Propsに何を渡すか・何を受け取るか**も整理

---

### 🔁 実装の進め方（設計の逆順）

1. UIのベースと状態（useState）を一つずつ実装
2. それに対応する`useEffect`や`onClick`, `onChange`などの**イベント処理を加える**
3. 処理の中で使用するfetchなどの**API通信コードを組み込み**
4. イベント全体が流れるようにしてから**外部APIとの接続テスト**
5. UIの表示調整・エラーハンドリングなどを追加

